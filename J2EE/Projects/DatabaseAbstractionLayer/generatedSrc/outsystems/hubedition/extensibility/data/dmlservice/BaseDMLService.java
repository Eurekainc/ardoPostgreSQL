/* 
 This source code (the "Generated Software") is generated by the OutSystems Platform 
 and is licensed by OutSystems (http://www.outsystems.com) to You solely for testing and evaluation 
 purposes, unless You and OutSystems have executed a specific agreement covering the use terms and 
 conditions of the Generated Software, in which case such agreement shall apply. 
*/

package outsystems.hubedition.extensibility.data.dmlservice;

import java.text.*;
import java.util.*;
import outsystems.hubedition.extensibility.data.*;
import outsystems.hubedition.extensibility.data.databaseobjects.*;
import outsystems.hubedition.util.*;
import outsystems.hubedition.util.delegates.*;
import java.math.BigDecimal;
import outsystems.hubedition.extensibility.data.databaseobjects.ITableSourceInfo;
import outsystems.hubedition.extensibility.data.DBDataType;
import outsystems.hubedition.extensibility.data.IDatabaseServices;


public abstract class BaseDMLService implements IDMLService {
    private IDatabaseServices _databaseServices;
    public static final TypeInformation<BaseDMLService> TypeInfo = TypeInformation.get(BaseDMLService.class);
    
    /**
	 *	This property represents the IDatabaseServices instance associated with this service.
	 */
    public final IDatabaseServices getDatabaseServices()
    {
        return _databaseServices;
    }
    
    /**
	 *	This property represents the IDatabaseServices instance associated with this service.
	 */
    private final void setDatabaseServices(IDatabaseServices value)
    {
        _databaseServices = value;
    }
    
    protected BaseDMLService(IDatabaseServices databaseServices){
        setDatabaseServices( databaseServices );
    }
    
    /**
	 *	Gets an object that generates the SQL fragments required to perform specific queries (e.g. count query).
	 */
    public abstract IDMLQueries getQueries();
    
    /**
	 *	Gets an object that generates the SQL fragments required to perform entity actions.
	 *	@param	tableSourceInfo	Information about the entity's underlying table source
	 */
    public abstract IDMLEntityActions getEntityActions(ITableSourceInfo tableSourceInfo);
    
    /**
	 *	Gets an object that generates and manipulates SQL identifiers.
	 */
    public abstract IDMLIdentifiers getIdentifiers();
    
    /**
	 *	Gets an object that generates the SQL operators required to execute simple queries.
	 */
    public abstract IDMLOperators getOperators();
    
    /**
	 *	Gets an object that generates the SQL functions required to execute simple queries
	 */
    public abstract IDMLFunctions getFunctions();
    
    /**
	 *	Gets an object that generates the SQL aggregate functions required to execute simple queries
	 */
    public abstract IDMLAggregateFunctions getAggregateFunctions();
    
    /**
	 *	Gets an object that generates the SQL default values for each database type.
	 */
    public abstract IDMLDefaultValues getDefaultValues();
    
    /**
	 *	Gets an object that defines a set of fragments (e.g. keywords, operators) of the database-specific dialect  that can be used to provide syntax highlighting in SQL statements
	 */
    public IDMLSyntaxHighlightDefinitions getSyntaxHighlightDefinitions()
    {
        return new GenericDMLSyntaxHighlightDefinitions(this);
    }
    
    /**
	 *	Returns an SQL expression that transforms a value of a specified type, so that it can be used in a query condition. This implementation returns the value without making any modification to it.
	 */
    public String transformDatabaseValue(String value, DBDataType type) {
        return value;
    }
    
    /**
	 *	Escapes special characters in a text value to be used in SQL statements (e.g replace ' by ''). This implementation replaces the null string by the empty string and the character ' by ''.
	 *	@param	text	text value to be escaped
	 *	@return	The escaped text
	 */
    public String escapeTextValue(String text) {
        return StringUtils.replace(((text != null? text : "")), "\'", "\'\'");
    }
}
